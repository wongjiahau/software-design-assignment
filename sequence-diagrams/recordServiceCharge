@startuml
title Record service charge
actor Manager
boundary "view:\nRecordServiceChargeView" as view
entity "store:\nstore" as store
control MainController

Manager -> MainController : recordServiceCharge()
create control RecordServiceChargeController as controller
MainController -> controller : <<create>>(view, store)
controller --> MainController
MainController -> controller : run()
controller -> store : getAssigned()
store --> controller : assignedServiceRequests
alt assignedServiceRequests.length == 0
    controller -> view : displayNoAssignedServiceRequest()
    view --> controller
else
    controller -> view : displayServiceRequests(assignedServiceRequests)
    view --> controller : serviceRequestId
    controller -> view : getServiceCharge()
    view --> controller : serviceCharge
    controller -> store : getById(serviceRequestId)
    store -> controller : chosenServiceRequest
    controller -> chosenServiceRequest : setCharge(serviceCharge)
    chosenServiceRequest --> controller
    controller -> view : displaySuccess()
    view --> controller
end


controller --> MainController 





MainController --> Manager

@enduml

