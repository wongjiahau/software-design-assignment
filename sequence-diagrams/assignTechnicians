@startuml
title Assign technicians
actor Manager
boundary "view:\nAssignTechnicianView" as view
entity "technicianDAO:\nTechnicianDAO" as tDAO
entity "serviceRequestDAO:\nServiceRequestDAO" as srDAO
control MainController

Manager -> MainController : assignTechnician()
create control AssignTechnicianController as controller
MainController -> controller : <<create>>(view, technicianDAO, serviceRequestDAO)
controller --> MainController
MainController -> controller : run()
controller -> srDAO : getPending()
srDAO --> controller : pendingServiceRequests
alt pendingServiceRequests.length == 0
    controller -> view : displayNoPendingServiceRequest()
    view --> controller
else
    controller -> view : displayServiceRequests(assignedServiceRequests)
    view --> controller : serviceRequestId
    controller -> srDAO : getById(serviceRequestId)
    srDAO --> controller : chosenServiceRequest
    controller -> tDAO : getAll()
    tDAO --> controller : allTechnicians
    controller -> view : displayTechnicians
    view --> controller : technicianId
    controller -> tDAO : getById(technicianId)
    tDAO --> controller : chosenTechnician
    controller -> view : getDateOfService()
    view --> controller : dateOfService
    controller -> chosenServiceRequest : setTechnician(chosenTechnician, dateOfService)
    chosenServiceRequest --> controller 
end
controller --> MainController 
MainController --> Manager
@enduml


